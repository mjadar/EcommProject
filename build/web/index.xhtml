<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Index</title>
    </h:head>
    <h:body>   
       
        
        <c:choose>
            <c:when test="#{loginBean.isLogged}">
                 <h:outputText value="#{loginBean.email_login}" style="color:green;"> </h:outputText>
                 <a href="">DÃ©connexion</a>
            </c:when>
            <c:otherwise>
                <a href="login_register.xhtml">Login/Register</a>
            </c:otherwise>
        </c:choose>
        <br/>
       
        <h:form id="user-form">  
             <h:commandButton id="submit-hommes" value="HOMMES" action="#{produitsBean.getProducts('HOMMES')}"/>
             <h:commandButton id="submit-femmes" value="FEMMES" action="#{produitsBean.getProducts('FEMMES')}"/>
             <h:commandButton id="submit-enfants" value="ENFANTS" action="#{produitsBean.getProducts('ENFANTS')}"/>
        </h:form>     
        
          <table>
            
            <ui:repeat var="o" value="#{produitsBean.list_produits}" varStatus="status">
               
                <h:form id="fpanier">  
                    <tr>
                        <td>#{o.libelle}</td>                     
                        <td>#{o.categorie}</td>
                        <td>#{o.prix}</td>
                        <td>#{o.qte}</td>
                        <td><img src="#{o.image}" alt="alt"  style="width: 200px;height: 200px"/></td>
                        <td>     

                            <h:commandButton class="panier_submit" value="Ajouter au panier" action="#{panierBean.ajouter_panier(o,1)}"/>

                        </td>
                    </tr>
                </h:form>  
            </ui:repeat>
        </table>    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
       
      
    </h:body>
</html>